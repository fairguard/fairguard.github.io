---
layout: post
title: "单机游戏防破解方案解析"
date: 2023-08-10 16:26:10 +0800
categories: 游戏安全
tags: 单机游戏  防破解  游戏资源加密
---

近年来，游戏市场用户规模趋于稳定，游戏市场进入了存量时代，各赛道“人满为患”，如何在一片红海中站稳脚跟成了厂商的必修课。<!-- more -->  

而在快节奏的社会环境下，脱离了网游社交粘性，主打清爽、自由的单机游戏，又重返玩家视野。可随意支配时间、不与他人竞争的“反内卷”正中玩家下怀，《暖雪》、《沙石镇时光》等爆款单机，得到了不少玩家的认可。  

当然，随着单机游戏的热度高涨，游戏黑灰产也盯上了这块蛋糕，光鲜背后的阴影开始显露，大量单机游戏出现了不同程度的游戏安全问题。  

FairGuard游戏加固基于十余年游戏安全对抗实战经验，针对单机游戏游戏常见的被破解、资源泄露、存档加密、内存修改问题进行了梳理与分析。  

▎游戏破解案例分析  

单机游戏因不联网或弱联网的特性，经常会遭遇破解问题，常见的形式有：内购破解、去广告版、存档售卖等。  

以某单机游戏遇到的「内购破解」为例，破解者先通过MT管理器去除了游戏的签名校验来躲避惩罚，再搜索游戏支付渠道字符串进行定位，定位后用编辑功能篡改支付代码逻辑，最后进行重签名，就可实现无需付费即可购买游戏内的付费礼包。  

![315_21](/assets/res/202103/游戏破解案例动图2.gif)  
破解者使用MT管理器实现内购破解  

除了破解手段，还可针对游戏内的人物攻击/血量/防御等数值模块进行「内存修改」，修改内存后可以实现如：倍攻、秒杀、加减速等降低游戏难度的功能，对一些带有排行榜设计的弱联网游戏平衡造成严重影响。  

内存修改手段还可以修改游戏内免广告道具的数量，从而实现跳过广告/无广告，对于混合变现或广告变现的游戏收益会造成直接影响。  

![315_21](/assets/res/202103/网购.png)  
单机游戏破解版现象十分猖獗  

此外，一些游戏还出现了较为严重的存档售卖现象，付费玩家存档/内存篡改后的存档会以极低的价格覆盖到其他玩家，这种行为对玩家的付费积极性会造成严重影响。  

对轻度、单机、休闲类等品类游戏而言，游戏出现破解版、无广告版及存档售卖问题会迅速抢占付费正版的空间、破坏游戏的平衡性、对游戏的直接收益造成严重的影响。  

▎游戏资源泄露案例分析  

当下的游戏市场美术内卷严重，一款游戏的美术精致与否，是大量玩家是否入手的第一要素，在这种情况下，对游戏中的美术原画、场景、立绘甚至模型等资源的进行加密保护，防止解包泄露、资源盗用等现象是十分必要的。  

![315_21](/assets/res/202103/资源泄露抄袭.png)  
《光环4》发生过美术素材被抄袭事件(上《光环4》;下《群星》)  

对于一款游戏而言，游戏中的图片、视频或者代码，都是游戏的知识财产，如果被破解者或竞争对手解开，拿到其中的内容，将迅速复制出竞品，对游戏造成的影响与损失将难以估量。  

针对单机游戏遇到破解、资源泄露等问题，FairGuard定制了专门的应对策略，该方案已接入多款热门游戏并验证了出色的保护能力。  

■ 防破解功能  

采用FairGuard业界独家技术「无API签名校验技术」，从底层出发，对游戏的引擎与代码进行加密处理，可以针对游戏包签名和文件完整性进行多重校验，防止游戏被植入恶意模块、剔除广告等。  

■ 反内存修改功能  

针对游戏面临的内存修改风险，FairGuard潜心研发了「行为检测方案」，通过敏锐的智能感知系统，一旦检测到修改行为，可立即闪退，通杀各类修改外挂及其变种，做到有效防护。  

■ 变速无效化功能  

采用FairGuard独家「无导入函数SO加壳技术」，高强度加壳保护游戏内代码，经大量实机测试，可无视任何变速器及其变种，使其变速功能无效化。  

■ 反引擎级变速  

深入游戏引擎底层，对引擎级的变速进行深度检测，获取具体变速倍数，可实现精准封号打击或闪退处理。  

■ 资源加密功能  

FairGuard独家资源加密方案，深入游戏引擎底层，结合游戏资源文件结构及加载机理精心构造。  

可为游戏提供高强度加密保护，具备高兼容性、运行消耗小、性能无影响的特点，支持Android/iOS/PC三平台、支持资源在线更新。  

此外，方案进行了特殊优化，无需开发对接与接入，加解密对开发透明。  

![315_21](/assets/res/202103/ab资源加密对比.gif)  
FairGuard资源加密效果对比  

■ 存档加密建议  

因不同游戏开发流程存在差异，存档加密问题无法一概而论，FairGuard基于多年安全对抗经验给出如下建议：  

存档加密需要使用设备ID相关的密钥，这样可以防止游戏存档被拷贝到其他设备上读取。建议游戏把存档保存到内部存储目录。将sdcard作为存档目录的风险在于，存档可被别的应用读写、修改。  

这里分享一个相对比较简单的获取内存存储路径的方法，代码如下：  
![315_21](/assets/res/202103/内存储存路径.png)  


**丨结语**  

FairGuard作为专注于游戏安全领域的第三方服务商，致力于帮助游戏公司解决外挂和破解问题，为游戏提供深度一体化的加密保护方案。  

目前产品已经被FunPlus、三七互娱、恺英网络、心动、杭州电魂等多家头部公司采用，接入400+款热门游戏。欢迎访问 [www.fair-guard.com](https://www.fair-guard.com) 了解试用。    

产品咨询联系方式：  

QQ：2079128588  

微信：fairguard01  

技术交流QQ群：1105310296  