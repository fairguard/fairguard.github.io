---
layout: post
title: "控制时间流速？变速外挂案例及原理分析"
date: 2022-11-03 16:26:10 +0800
categories: 游戏安全
tags: 游戏保护  反外挂  防破解
---

游戏作为一种载体，承载了制作者天马行空的想象，在游戏世界中，玩家可操控角色来施展各种“超能力”，这种新奇的体验，让人从现代生活中抽离片刻，也正是游戏的魅力所在。<!-- more -->  

近期，任天堂旗下的动作类游戏《猎天使魔女3》正式发售，秉承前作的西方传说背景，加上大胆的美术风格、出色的人物刻画及优秀的打击感，吸引了无数拥趸。  

![315_21](/assets/res/202103/猎天使魔女3.jpg)  

而游戏中主角贝优妮塔的核心技能「魔女时间」更是为玩家津津乐道，通过特殊连招触发的「魔女时间」是一种控制时间流速的魔法，可在敌方近乎静止的情况下尽情输出，享受流畅的打击快感。  

而这种在游戏世界中存在的“超能力”，正以另一种形式，严重破坏着游戏环境。那就是——变速外挂。  

众所周知，游戏在运行中需要以帧为单位播放画面，而计算每帧动画播放所需时间，则需要调用C库函数来获取系统时间。如：  

// 获取当前精确时间  

gettimeofday;  

// 获取系统时间  

clock_gettime;  

这类外挂的实现原理就是通过修改获取到的系统时间，来加快或放慢游戏内的时间流速。  

除了常见的调用系统时间，部分变速外挂还可通过调用游戏引擎内时间实现变速。如光环助手，通过调用UnityEngine_Time_set_timeScale，传入想要加速的倍数，来实现全局加速效果。  

![315_21](/assets/res/202103/光环助手.png)  

因游戏玩法不同，变速外挂会造成不同的影响，如音乐类、跑酷类游戏可以通过放慢速度，大幅度降低游戏难度。  

![315_21](/assets/res/202103/减速挂.gif)  

而涉及到养成的游戏则可以加速材料收集进度，缩短游戏的养成周期。  

![315_21](/assets/res/202103/加速挂.gif)  

这类外挂会严重破坏游戏的公平性，引发正常玩家不满，如果不加以制止，会急剧缩短游戏的生命周期。  

针对游戏面临的变速外挂问题，FairGuard定制了专门的应对策略，该方案已接入多款热门游戏并验证了出色的保护能力。  

变速无效化功能  

采用FairGuard独家无导入函数SO加壳技术，高强度加壳保护游戏内代码，经大量实机测试，可无视任何变速器及其变种，使其变速功能无效化。  

反引擎级变速  

深入游戏引擎底层，对引擎级的变速进行深度检测，获取具体变速倍数，可实现精准封号打击或闪退处理。  

**丨结语**  

FairGuard 专注于游戏加固与反外挂，为 Unity / Cocos / UE 等引擎的游戏提供深度一体化加密保护方案。欢迎访问 [www.fair-guard.com](https://www.fair-guard.com) 了解试用。    

产品咨询联系方式：  

QQ：2079128588  

微信：fairguard01  

技术交流QQ群：1105310296  