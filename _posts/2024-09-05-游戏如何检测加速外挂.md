---
layout: post
title: "游戏如何检测加速外挂"
date: 2024-09-05 16:26:10 +0800
categories: 游戏安全
tags: 游戏加速  引擎加密  防外挂
---

在游戏面临的众多外挂风险中，除了常见的内存修改挂、注入挂等作弊手段，黑灰产还常用「加速」手段实现作弊。<!-- more -->  

![315_21](/assets/res/202103/游戏安全风险分布占比图.png)  
游戏安全风险分布占比图  

「加速」顾名思义是指改变游戏内的速度。游戏在运行中需要以帧为单位播放画面，而计算每帧动画播放所需时间，则需要调用C库函数来获取系统时间。如：  

// 获取当前精确时间 gettimeofday;  

// 获取系统时间 clock_gettime;  

加速外挂的实现原理就是通过修改获取到的系统时间，来加快游戏内的时间流速。  

![315_21](/assets/res/202103/未加密变速.gif)  
使用GameGuardian修改器实现的加速效果  

此外，部分加速外挂还可通过调用游戏引擎内时间实现加速。如某环助手，可以通过调用 UnityEngine_Time_set_timeScale ，传入想要加速的倍数，来实现全局加速效果。  

![315_21](/assets/res/202103/光环助手变速.gif)  
某环助手的全局加速功能，可以实现快速养成  

使用加速外挂，可以实现快速收集资源材料，大幅度缩短游戏养成周期，对于带有养成环节的放置类、卡牌类等游戏而言，加速外挂泛滥会导致严重的公平性问题。  

除了加速，这类外挂还会因游戏玩法不同，造成不同的影响，如音乐类、跑酷类游戏可以通过放慢游戏速度，大幅度降低游戏难度，同样也会导致公平性问题与正常玩家不满。  

![315_21](/assets/res/202103/减速挂.gif)  
通过放慢速度，降低音乐游戏难度  

此外，据FairGuard观察发现，变速外挂的高维度作弊趋势愈发显著。部分作弊用户使用 Cheat Engine 修改在 PC 模拟器中运行的移动端游戏，并制售其外挂。这种高维度的作弊会绕过传统的检测手段，加大检测排查难度。  

其实现原理为hook以下三个有关时间的函数：  

timeGetTime(记下开始时的时间);  

GetTickCount(获取当前毫秒数);  

QueryPerformanceCount(获取精确时间)  

修改器会记录步骤开始时间，并获取时间函数的地址，通过hook操作，跳转到自设函数，并在自设函数中修改返回值或输出参数，具体计算方式为当前时间+(当前时间-开始时间)*想要传入的倍数。  

![315_21](/assets/res/202103/CE变速.gif)  
Cheat Engine 调整倍速实现加速快速通关游戏  

变速外挂的泛滥会破坏游戏的公平性，引发正常玩家不满，如果不及时加以制止，会导致游戏的生命周期缩短，厂商收益直接受损等严重后果。  

针对游戏面临的变速外挂问题，FairGuard定制了专门的应对策略，该方案已接入多款热门游戏并验证了出色的保护能力。  

变速闪退功能  

采用更加底层的检测手段，经大量实机测试，可无视任何变速器及其变种，一旦检测到变速情况，将立即闪退游戏。  

![315_21](/assets/res/202103/变速加密后.gif)  

反驱动级变速  

针对高维度作弊问题，FairGuard深入游戏引擎底层，对变速行为进行深度检测，获取具体变速倍数，可精准识别驱动级、进程级的变速，可自行配置闪退处理或封号打击。  

反外挂功能  

针对游戏将面临一系列外挂修改风险，FairGuard研发了行为检测方案，搭配300+维度的智能感知系统，可通杀各类外挂及其变种，做到有效防护。  


**丨结语**  

FairGuard作为专注于游戏安全领域的第三方服务商，致力于帮助游戏公司解决外挂和破解问题，为游戏提供深度一体化的加密保护方案。  

目前产品已经被FunPlus、三七互娱、恺英网络、心动、杭州电魂等多家头部公司采用，接入500+款热门游戏。欢迎访问 [www.fair-guard.com](https://www.fair-guard.com) 了解试用。    

产品咨询联系方式：  

QQ：2079128588  

微信：fairguard01  

技术交流QQ群：1105310296  