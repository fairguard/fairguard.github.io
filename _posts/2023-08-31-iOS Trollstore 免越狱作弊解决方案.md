---
layout: post
title: "iOS Trollstore 免越狱作弊解决方案"
date: 2023-08-31 16:26:10 +0800
categories: 游戏安全
tags: iOS  iOS越狱  Trollstore
---

一直以来，如何获取用户都是游戏厂商的一大难题。在此背景下，游戏多端互通对获取用户的积极影响得到广泛认可。而从游戏安全的角度来看，游戏作为一个整体，无论哪一端出现安全问题，在互通的情况下都会造成比以往更加严重的影响。<!-- more -->  

与开源的安卓系统相比，iOS系统独特的闭源生态下，硬件、软件和服务经过层层审核与测试更加安全、稳定。但这也导致了部分公司掉以轻心，在开发iOS端过程中忽视了安全问题。  

![315_21](/assets/res/202103/iOS.png)  

据FairGurd观察，iOS的闭源生态系统具备一定的安全性，但并非没有漏洞。如常见的iOS端作弊手段——iOS越狱。  

iOS设备经过一系列操作越狱后，可让用户获取操作系统的最高权限，再通过Cydia管理器等软件，安装App Store以外的扩展软件，给游戏外挂、破解提供便捷。  

![315_21](/assets/res/202103/越狱.jpg)  
破解者使用MT管理器实现内购破解  

随着游戏安全对抗升级，外挂作者开发出了更加难以检测的iOS端漏洞——Trollstore免越狱作弊。  

这种作弊手段的实现原理是基于iOS系统存在的绕过签名验证的CoreTrust漏洞。正常情况下，iOS系统安装App应用需要通过App Store，应用上架需要验证证书，如：个人证书/企业证书。  

![315_21](/assets/res/202103/巨魔商店.jpg)  
Trollstore免越狱作弊工具  

而使用TrollStore工具安装应用是通过ipa安装包，不需要证书。意味着iOS系统在安装TrollStore工具后，无需越狱也可以实现随意安装外部应用。这种作弊手段被游戏黑产所利用，传播游戏破解版以及游戏外挂，对不少游戏造成了严重影响。  

![315_21](/assets/res/202103/安装破解应用.jpg)  
使用Trollstore可安装各类破解版应用  

针对iOS端各类游戏安全难题，FairGuard研发了成熟完善的保护方案，并接入多款热门游戏并验证了出色的保护能力。  

▶ 反调试保护  

双重防护，先使用ptrace、syscall、sysctl、异常等检测方式，再对防护代码进行加密保护，效果更佳。  

▶ 反越狱保护  

多维度综合检测，如检查某些App的安装、文件的存在、目录的访问权限等来综合判断是否越狱。  

▶ 反重签名保护  

精准校验包体内签名，使用加固时存储的签名，与运行时获取的签名进行对比。  

▶ 反修改器保护  

在代码对抗防护阶段，FairGuard提供本地检测代码，并保护其有效性。  

此外，FairGuard研发了在线特征更新检测功能，获取样本后可第一时间下发特征，用最短的时间保护App的安全性。如下所示：  
![315_21](/assets/res/202103/App的安全性.png)  


**丨结语**  

FairGuard作为专注于游戏安全领域的第三方服务商，致力于帮助游戏公司解决外挂和破解问题，为游戏提供深度一体化的加密保护方案。  

目前产品已经被FunPlus、三七互娱、恺英网络、心动、杭州电魂等多家头部公司采用，接入400+款热门游戏。欢迎访问 [www.fair-guard.com](https://www.fair-guard.com) 了解试用。    

产品咨询联系方式：  

QQ：2079128588  

微信：fairguard01  

技术交流QQ群：1105310296  