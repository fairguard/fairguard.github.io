---
layout: post
title: "Unity游戏打包加密方案解析"
date: 2025-11-13 16:30:00 +0800
categories: 游戏安全
tags: unity  mono DLL  global-metadata.dat
---

“游戏打包”是游戏开发流程中的一个核心术语，是指将开发者编写的大量代码、脚本、美术资源、音频文件、配置表等开发素材，整合、转换并组织成可以在特定平台上独立运行的文件包的过程。<!-- more -->  

在游戏打包过程中，开发者除了需要生成可执行程序，还需要考虑性能优化与文件安全问题，大部分开发者会采取加密措施来应对猖獗的黑灰产，抵御外挂、破解攻击。

FairGuard基于多年游戏安全对抗经验，研发了一套成熟完善的解决方案, 对引擎内文件/代码/资源加密进行高强度加密，并且支持游戏打包后加密，只要运行一条命令行即完成加密，方便快捷。包含如下功能：

**文件/代码防篡改功能**

针对Unity引擎中的 mono DLL / global-metadata.dat / libil2cpp.so 等文件进行高强度加密。

**■ mono DLL加密**

![315_21](/assets/res/202103/mono加密.png)  

FairGuard深入游戏引擎底层，构建了第三代加密方式——DLL结构虚拟化。对DLL的文件结构进行自定义重构，并对文件结构数据进行高强度加密。

加密处理后，所有的工具都无法解析出任何数据，哪怕是专业的破解分析人员，要解密出里面的结构数据难度也是非常大。

![315_21](/assets/res/202103/DLL虚拟化.png)  
虚拟化后的DLL结构010 Editor无法正常解析

**■ global-metadata.dat 文件加密**

加密 global-metadata.dat 文件，同时做到对开发者透明。开发者只需使用加固工具运行一条命令行，即可实现加密，不需要上传额外文件。

![315_21](/assets/res/202103/globalmetadata加密对比.png)  

**■ libil2cpp.so 文件加密**

加密 libil2cpp.so 文件，由于 IL2cppDumper 需要依赖 libil2cpp.so 对应 global-metadata.dat 文件中的字符串地址，所以对 libil2cpp.so 做深度加密非常有必要。

使用加密方案后，即使从内存中 dump 出来 libil2cpp.so , 依然不会被 IL2cppDumper 正常识别，效果如下图：

![315_21](/assets/res/202103/IL2CPP加密后.gif)  
加密后IL2cppDumper无法解析  

**Unity AB资源加密方案**

FairGuard独家资源加密方案，支持Android、iOS、PC、H5、鸿蒙NEXT、Mac多端。加密方案深入游戏引擎底层，结合游戏资源文件结构及加载机理精心构造。

可为游戏资源提供高强度加密保护，同时具备高兼容性、运行消耗小、性能无影响的特点，并且支持资源在线更新。

此外，方案对接入流程进行优化，实现了无需开发对接与接入、加解密对开发透明等特色功能。

![315_21](/assets/res/202103/资源加密算法流程.png)  
FairGuard算法流程图  

除了上述的引擎内文件/代码/资源加密，FairGuard还提供反外挂、防破解功能，与引擎加固功能紧密耦合，游戏保护效果更上一层楼。

**反外挂功能**

针对游戏将面临一系列外挂修改风险，FairGuard研发了行为检测方案，搭配300+维度的智能感知系统，可通杀各类外挂及其变种，做到有效防护。

**防破解功能**

采用FairGuard业界独家技术「无API签名校验技术」，从底层出发，对游戏的引擎与代码进行加密处理，可以针对游戏包签名和文件完整性进行多重校验，防止游戏被植入恶意模块、剔除广告等。

**变速闪退功能**

采用更加底层的检测手段，经大量实机测试，可无视任何变速器及其变种，一旦检测到变速情况，将立即闪退游戏。

**反调试功能**

防止外挂作者对游戏进行调试，阻止对游戏的静态或动态分析，一旦检测到IDA/frida等调试分析工具，立即闪退。  

**丨结语**  

FairGuard作为专注于游戏安全领域的第三方服务商，致力于帮助游戏公司解决外挂和破解问题，为游戏提供深度一体化的加密保护方案。  

目前产品已经被FunPlus、三七互娱、恺英网络、心动、杭州电魂等多家头部公司采用，接入600+款热门游戏。欢迎访问 [www.fair-guard.com](https://www.fair-guard.com) 了解试用。    

产品咨询联系方式：  

QQ：2079128588  

微信：fairguard01  


技术交流QQ群：1105310296  
