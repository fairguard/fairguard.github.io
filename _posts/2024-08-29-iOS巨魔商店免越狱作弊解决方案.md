---
layout: post
title: "iOS巨魔商店免越狱作弊解决方案"
date: 2024-08-29 16:26:10 +0800
categories: 游戏安全
tags: iOS  巨魔商店  越狱检测
---

众所周知，在iOS独特的闭源生态下，官方唯一的应用下载渠道是App Store，应用下载会经过层层审核与测试来保障其安全性与稳定性，未经审核的应用将无法下载到手机。<!-- more -->  

这一举措限制了用户获取非官方或破解版应用的可能性，与开源的安卓系统相比，iOS系统下游戏面临的安全风险会有所降低，但也导致了部分公司掉以轻心，在开发iOS端过程中忽视了安全问题。  

![315_21](/assets/res/202103/AppStore.png)  

如常见的iOS端作弊手段——iOS越狱。iOS设备经过一系列操作越狱后，可让用户获取操作系统的最高权限，可以通过Cydia管理器等软件，安装App Store以外的扩展软件，给游戏外挂、破解提供便捷。  

在设备越狱后，可通过多种维度数据判断识别出越狱设备，进行针对性打击。此外，越狱还会导致系统的稳定性问题，如应用程序闪退、卡顿，甚至导致设备的固件损坏、失去保修资格等。  

![315_21](/assets/res/202103/iOS越狱.png)  
▲iOS越狱标志——安装Cydia管理器  

在越狱易被检测，且有稳定性问题的背景下，一些开发者基于iOS系统漏洞，研发出了免越狱的作弊方式——iOS巨魔商店(iOS Trollstore)。  

巨魔商店利用iOS系统存在的绕过签名验证的CoreTrust漏洞，来实现无需签名、无过期限制、无闪退等问题的外部应用安装。用户可以在不越狱的情况下，安装并使用未经App Store审核的应用程序。  

![315_21](/assets/res/202103/巨魔logo.jpg)  
巨魔商店十分魔性的logo  

巨魔商店可以通过快速部署工具TrollInstallerX进行安装，其利用了kfd内核漏洞以及dmaFail PPL绕过技术，支持从iOS 14.0到16.6.1的系统版本，能够直接将巨魔商店及安装到手机上，无需替换系统级App。  

![315_21](/assets/res/202103/爱思助手安装巨魔商店.png)  
通过爱思助手连接手机，将TrollInstallerX进行签名安装  

用户可以通过爱思助手连接手机，将TrollInstallerX进行签名安装，随后在设置中将应用设为可信，即可完成巨魔商店的部署。  

![315_21](/assets/res/202103/安装巨魔商店.png)  
巨魔商店安装成功  

在安装巨魔商店后，用户可以通过各种渠道下载ipa安装包，实现随意安装外部应用。这种作弊手段被游戏黑产所利用，传播游戏破解版以及游戏外挂，对不少游戏造成了严重影响。  

![315_21](/assets/res/202103/巨魔安装ipa.png)  
使用巨魔商店通过ipa安装外部应用  

![315_21](/assets/res/202103/破解版ipa包.png)  
一些网站中提供的破解版游戏ipa包  

巨魔商店的泛滥导致iOS端游戏安全问题频发，尤其是在当下游戏多端互通的趋势下，游戏作为一个整体，无论哪一端出现游戏作弊问题，都会造成比以往更加严重的影响。  

针对iOS端各类游戏安全难题，FairGuard研发了成熟完善的保护方案，并接入多款热门游戏并验证了出色的保护能力。  

反调试保护  

双重防护，先使用ptrace、syscall、sysctl、异常等检测方式，再对防护代码进行加密保护，效果更佳。  

反越狱保护  

多维度综合检测，如检查某些App的安装、文件的存在、目录的访问权限等来综合判断是否越狱。  

反重签名保护  

精准校验包体内签名，使用加固时存储的签名，与运行时获取的签名进行对比。  

反修改器保护  

在代码对抗防护阶段，FairGuard提供本地检测代码，并保护其有效性。  

此外，FairGuard研发了在线特征更新检测功能，获取样本后可第一时间下发特征，用最短的时间保护App的安全性。  


**丨结语**  

FairGuard作为专注于游戏安全领域的第三方服务商，致力于帮助游戏公司解决外挂和破解问题，为游戏提供深度一体化的加密保护方案。  

目前产品已经被FunPlus、三七互娱、恺英网络、心动、杭州电魂等多家头部公司采用，接入500+款热门游戏。欢迎访问 [www.fair-guard.com](https://www.fair-guard.com) 了解试用。    

产品咨询联系方式：  

QQ：2079128588  

微信：fairguard01  

技术交流QQ群：1105310296  