---
layout: post
title: "多款热门游戏中招，如何防止游戏通讯数据被篡改？"
date: 2022-08-25 16:26:10 +0800
categories: 游戏安全
tags: 游戏保护  反外挂  防破解 游戏通讯数据
---

在利益的驱使下，游戏黑灰产规模日渐庞大，多样化的攻击方式、刁钻的破解角度让游戏厂商苦不堪言，稍有疏漏便会被黑灰产钻了空子，造成巨大的损失。<!-- more -->  

目前，移动游戏市场中最常见的外挂当属「修改器」，市面上常见的秒杀挂、倍攻挂都是通过修改器篡改数值制作的，但除了修改器，外挂作者还有其他刁钻的角度可以对游戏数值进行修改，「破解通讯协议」就是其中之一。

![315_21](/assets/res/202103/通讯协议vpn外挂.png)  

所谓通讯协议，我们可以把它看做游戏客户端与服务器之间的数据传输通道。在游戏运行过程中，我们点击某个按钮或进行某种游戏行为的时候，客户端会按照跟服务器约定好的规则，将游戏行为请求和参数通过网络封包发送给服务器，服务器收到请求后做出解析，并进行处理反馈给客户端，客户端将反馈信息进行解析并展示给玩家。  

![315_21](/assets/res/202103/正常服务器与客户端交互流程.png)  

那么外挂作者是如何破解通讯协议的呢?  

答案是采用了「抓包工具」，其本质是网络数据包编辑器。一类实现方式是基于硬件，比如让网卡处于混乱模式，即可拦截数据包;另一类则是通过HOOK，针对send和recv类函数进行拦截，获得网络数据包。  

![315_21](/assets/res/202103/抓包工具.png)  

近期FairGuard收集的样本中，发现某热门游戏出现变态功能外挂，外挂作者使用「抓包工具」对游戏通讯协议进行解析，破解通讯协议后，抓取要修改的游戏数值，使用VPN搭载在传输过程中，将游戏服务器反馈的数据进行修改，从而实现了一系列变态修改功能。  

![315_21](/assets/res/202103/通讯协议破解后交互流程.png)  

如果游戏没有对通讯协议进行加密处理，这类外挂工具会产生非常大的危害。比如，某外挂作者曾开发过游戏《龙之谷》的“金币挂”。该外挂就是通过对游戏通讯协议分析破解，实现了大量生产网络游戏金币的功能。据报道，外挂作者通过各种渠道散播、售卖外挂，非法牟利超500万元人民币，对游戏造成了巨大的损失。  

面对日益庞大的游戏黑灰产，游戏厂商需要一支强大、专业的游戏安全队伍，FairGuard针对上述的通讯协议破解产生外挂问题，提供定制化解决策略。  

FairGuard独创的无导入函数so加壳技术，深入游戏底层提供最强级别加密防护，保护游戏代码不被分析;除了高强度的加密方案，FairGuard还有数据校验功能，可以精准校验游戏上下行数据，最大程度上保证游戏通讯协议安全。  

**丨结语**  

FairGuard 专注于游戏加固与反外挂，为 Unity / Cocos / UE 等引擎的游戏提供深度一体化加密保护方案。欢迎访问 [www.fair-guard.com](https://www.fair-guard.com) 了解试用。    

产品咨询联系方式：  

QQ：2079128588  

微信：fairguard002  

技术交流QQ群：1105310296  